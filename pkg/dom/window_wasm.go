//go:build js

package dom

import (
	"fmt"
	"syscall/js"

	"github.com/djthorpe/go-dom"
)

///////////////////////////////////////////////////////////////////////////////
// TYPES

type window struct {
	js.Value
}

///////////////////////////////////////////////////////////////////////////////
// GLOBALS

var (
	w = &window{js.Global()}
)

///////////////////////////////////////////////////////////////////////////////
// LIFECYCLE

func NewWindow() dom.Window {
	return w
}

///////////////////////////////////////////////////////////////////////////////
// STRINGIFY

func (this *window) String() string {
	str := "<DOMWindow"
	if doc := this.Document(); doc != nil {
		str += fmt.Sprint(" document=", doc)
	}
	return str + ">"
}

///////////////////////////////////////////////////////////////////////////////
// PROPERTIES

func (this *window) Document() dom.Document {
	return NewNode(w.Get("document")).(dom.Document)
}

///////////////////////////////////////////////////////////////////////////////
// PUBLIC METHODS
